# üß† LLM-Form Assistant

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º —Å –ø–æ–º–æ—â—å—é LLM (DeepSeek). –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –ª—é–±—É—é —Ñ–æ—Ä–º—É, –æ–ø–∏—Å–∞–Ω–Ω—É—é –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON, –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞–ø–æ–ª–Ω—è—Ç—å –µ—ë –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —á–∞—Ç–µ, –∫–∞–∫ –±—É–¥—Ç–æ –æ–±—â–∞–µ—Ç—Å—è —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º.

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   git clone https://github.com/tarminik/llm-form-filling
   cd llm-form-filling
   ```
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–º. –Ω–∏–∂–µ).
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–º–µ—Ä:
   ```bash
   python3 main.py --form passport.json
   ```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LLM

- –ü–æ–ª—É—á–∏—Ç–µ API-–∫–ª—é—á –¥–ª—è DeepSeek –∏–ª–∏ OpenAI.
- –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
  ```
  DEEPSEEK_API_KEY=your_api_key
  DEEPSEEK_API_URL=https://api.deepseek.com/v1/chat/completions
  # –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è OpenAI
  ```
- –ë–µ–∑ –∫–ª—é—á–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

---

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–µ–π —Ñ–æ—Ä–º—ã

- –°–æ–∑–¥–∞–π—Ç–µ JSON-—Ñ–∞–π–ª –ø–æ –ø—Ä–∏–º–µ—Ä—É –∏–∑ –ø–∞–ø–∫–∏ `forms/`.
- –ü–æ–ª–æ–∂–∏—Ç–µ –µ–≥–æ –≤ –ø–∞–ø–∫—É `forms/`.
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
  ```bash
  python3 main.py --form myform.json
  ```

---

## üíæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ dialog_manager.py   # –õ–æ–≥–∏–∫–∞ –¥–∏–∞–ª–æ–≥–∞, –≤–æ–ø—Ä–æ—Å—ã, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å LLM
‚îÇ   ‚îú‚îÄ‚îÄ extractor.py        # –í—ã–∑–æ–≤ LLM, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ form_loader.py      # –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ä–º—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è state
‚îÇ   ‚îú‚îÄ‚îÄ models.py           # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ñ–æ—Ä–º –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ llm/                    # –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å LLM (DeepSeek, OpenAI)
‚îÇ   ‚îú‚îÄ‚îÄ base.py
‚îÇ   ‚îú‚îÄ‚îÄ deepseek.py
‚îÇ   ‚îú‚îÄ‚îÄ openai.py
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ forms/                  # –í–∞—à–∏ —à–∞–±–ª–æ–Ω—ã —Ñ–æ—Ä–º (JSON)
‚îú‚îÄ‚îÄ answers/                # –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îú‚îÄ‚îÄ logs/                   # –õ–æ–≥–∏ –¥–∏–∞–ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (CLI)
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ .env                    # –ö–ª—é—á–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ LLM
```

---

## üìã –§–æ—Ä–º–∞—Ç JSON —Ñ–æ—Ä–º—ã

```json
{
  "id": "passport",
  "title": "–ü–∞—Å–ø–æ—Ä—Ç –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞ –†–§",
  "description": "–§–æ—Ä–º–∞ –¥–ª—è —Å–±–æ—Ä–∞ –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.",
  "fields": [
    { "name": "–§–∞–º–∏–ª–∏—è", "type": "str", "required": true, "description": "–§–∞–º–∏–ª–∏—è, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–∞ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ." },
    { "name": "–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ", "type": "enum", "required": true, "description": "–°—Ç—Ä–∞–Ω–∞ –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–∞.", "options": ["–†–æ—Å—Å–∏—è", "–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω", "–ë–µ–ª–∞—Ä—É—Å—å"] }
  ]
}
```

---

## üî† –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –ø–æ–ª–µ–π

| –¢–∏–ø          | –û–ø–∏—Å–∞–Ω–∏–µ                         |
| ------------ | -------------------------------- |
| `str`        | –°–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç                  |
| `int`        | –¶–µ–ª–æ–µ —á–∏—Å–ª–æ                      |
| `float`      | –ß–∏—Å–ª–æ —Å —Ç–æ—á–∫–æ–π                   |
| `bool`       | –î–∞ / –ù–µ—Ç                         |
| `date`       | –î–∞—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç `–î–î.–ú–ú.–ì–ì–ì–ì`)       |
| `email`      | Email-–∞–¥—Ä–µ—Å                      |
| `phone`      | –¢–µ–ª–µ—Ñ–æ–Ω                          |
| `url`        | –°—Å—ã–ª–∫–∞                           |
| `enum`       | –û–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –∏–∑ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ |
| `multi_enum` | –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞    |
| `list_str`   | –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫        |

> –î–ª—è `enum` –∏ `multi_enum` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–µ `options`.

---

## üìä –°—Ç–∞—Ç—É—Å—ã –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª–µ–π

| –°—Ç–∞—Ç—É—Å        | –ó–Ω–∞—á–µ–Ω–∏–µ                                                  |
| ------------- | --------------------------------------------------------- |
| `not_started` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—â—ë –Ω–µ –≤–≤–æ–¥–∏–ª –∑–Ω–∞—á–µ–Ω–∏–µ                       |
| `filled`      | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ, —Ñ–æ—Ä–º–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω          |
| `invalid`     | –ó–Ω–∞—á–µ–Ω–∏–µ –µ—Å—Ç—å, –Ω–æ –æ–Ω–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É |
| `skipped`     | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–ø—É—Å—Ç–∏–ª –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ                |

---

## üì§ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤:

```
answers/{form_id}_{timestamp}.json
```

–ü—Ä–∏–º–µ—Ä:

```json
{
  "–§–∞–º–∏–ª–∏—è": {
    "value": "–ò–≤–∞–Ω–æ–≤",
    "status": "filled",
    "optional": false
  },
  "–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ": {
    "value": "–†–æ—Å—Å–∏—è",
    "status": "filled",
    "optional": false
  }
}
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

   ```bash
   pip install -r requirements.txt
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

   ```
   DEEPSEEK_API_KEY=your_api_key
   DEEPSEEK_API_URL=https://api.deepseek.com/v1/chat/completions
   ```

---

## üìå –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞

```bash
python3 main.py --form passport.json
```

---

## üìé TODO / –∏–¥–µ–∏

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
* UI-–æ–±—ë—Ä—Ç–∫–∞ (–∫–æ–Ω—Å–æ–ª—å–Ω–∞—è –∏–ª–∏ web)
* –£–ª—É—á—à–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
